# 图书管理系统 API 测试

本目录包含了图书管理系统的简化 API 测试，使用 Bun 的内置测试框架 `bun:test` 编写。

## 测试文件

- `api-simple.test.js` - 管理员 API 测试文件

## 测试说明

### 测试目标
聚焦于使用固定的管理员账户（用户名：`admin`，密码：`admin123`）进行 API 功能测试，不涉及数据库操作。

### 测试覆盖范围

1. **基础连接测试**
   - 服务器响应测试
   - 健康检查端点

2. **管理员认证测试**
   - 管理员登录测试
   - 获取当前管理员信息

3. **图书管理 API 测试**
   - 获取图书列表
   - 搜索图书

4. **统计 API 测试**
   - 获取借阅统计
   - 获取库存统计

5. **错误处理测试**
   - 访问不存在的 API
   - 无效的请求方法

## 运行测试

```bash
# 运行测试
bun test test-js/api-simple.test.js

# 或者直接运行
cd test-js
bun test api-simple.test.js
```

## 测试特点

- ✅ 使用固定的管理员账户，无需创建测试用户
- ✅ 不涉及数据库操作，测试更快速
- ✅ 专注于核心 API 功能验证
- ✅ 自动启动和停止测试服务器
- ✅ 详细的测试结果输出

## 注意事项

- 测试会自动启动开发服务器（端口 3000）
- 测试完成后会自动停止服务器
- 如果服务器已经在运行，测试会使用现有服务器
- 所有测试都是非破坏性的，不会修改数据库数据 